---
import PlantLayout from '../../layouts/PlantLayout.astro';
import PlantNavigation from '../../components/navigation/PlantNavigation.svelte';
import PlantSection from '../../components/plant/PlantSection.svelte';
import { getAllPlants } from '../../api';
import QuickCard from '../../components/plant/QuickCard.svelte';

export async function getStaticPaths() {
  const allPlants = await getAllPlants();

  return allPlants.map((plant: Plant) => ({
    params: { slug: plant.slug },
    props: { plant },
  }));
}

const plant: Plant = Astro.props.plant;

const cardProps = {
  title: plant.name,
  botanical: plant.botanical_name,
  difficulty: plant.difficulty_peek,
  light: plant.light_peek,
  water: plant.water_peek,
};
---

<PlantLayout
  title={plant.name}
  imageUrl={`${plant.imageUrl}?w=1600&h=1200&fm=webp`}
>
  <article class="flex flex-col lg:flex-row mt-12 lg:mt-0">
    <!-- Left Column -->
    <div class="lg:shrink-0 lg:w-1/4 flex flex-col lg:mr-4">
      <div class="lg:sticky lg:top-0">
        <img src={`${plant.imageUrl}?w=1600&h=1200&fm=webp`} class="my-4" />
        <QuickCard {...cardProps} />
      </div>
    </div>
    <!-- Right Column -->
    <div class="">
      <!-- Desktop Nav Here -->
      <PlantNavigation placeholder={plant.name} client:load />
      <div></div>
      <!-- Summary -->
      <PlantSection title="About" body={plant.summary} />
      <PlantSection title="Light" body={plant.light} />
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Malesuada
        pellentesque elit eget gravida cum sociis natoque penatibus et. Cursus
        turpis massa tincidunt dui ut. Habitasse platea dictumst quisque
        sagittis purus sit amet volutpat consequat. Sodales ut eu sem integer
        vitae justo eget magna. Faucibus in ornare quam viverra orci sagittis.
        Nibh cras pulvinar mattis nunc sed blandit libero. Nunc eget lorem dolor
        sed viverra ipsum nunc aliquet bibendum. Ullamcorper morbi tincidunt
        ornare massa eget. Non blandit massa enim nec dui nunc mattis enim.
        Elementum integer enim neque volutpat ac tincidunt vitae semper.
        Tristique sollicitudin nibh sit amet commodo nulla facilisi nullam.
        Imperdiet sed euismod nisi porta. Eu scelerisque felis imperdiet proin
        fermentum leo vel orci. Nisl vel pretium lectus quam id. Consequat nisl
        vel pretium lectus quam id leo in.
      </p>
      <PlantSection title="Water" body={plant.water} />
      <PlantSection title="Fertilizing" body={plant.fertilizing} />
      <PlantSection title="Humidity" body={plant.humidity} />
      <PlantSection title="Pests" body={plant.pests} />
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Malesuada
        pellentesque elit eget gravida cum sociis natoque penatibus et. Cursus
        turpis massa tincidunt dui ut. Habitasse platea dictumst quisque
        sagittis purus sit amet volutpat consequat. Sodales ut eu sem integer
        vitae justo eget magna. Faucibus in ornare quam viverra orci sagittis.
        Nibh cras pulvinar mattis nunc sed blandit libero. Nunc eget lorem dolor
        sed viverra ipsum nunc aliquet bibendum. Ullamcorper morbi tincidunt
        ornare massa eget. Non blandit massa enim nec dui nunc mattis enim.
        Elementum integer enim neque volutpat ac tincidunt vitae semper.
        Tristique sollicitudin nibh sit amet commodo nulla facilisi nullam.
        Imperdiet sed euismod nisi porta. Eu scelerisque felis imperdiet proin
        fermentum leo vel orci. Nisl vel pretium lectus quam id. Consequat nisl
        vel pretium lectus quam id leo in.
      </p>
      <PlantSection title="Pruning" body={plant.pruning} />
      <PlantSection title="Propagation" body={plant.propagation} />
      <PlantSection title="Repotting" body={plant.repotting} />
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Malesuada
        pellentesque elit eget gravida cum sociis natoque penatibus et. Cursus
        turpis massa tincidunt dui ut. Habitasse platea dictumst quisque
        sagittis purus sit amet volutpat consequat. Sodales ut eu sem integer
        vitae justo eget magna. Faucibus in ornare quam viverra orci sagittis.
        Nibh cras pulvinar mattis nunc sed blandit libero. Nunc eget lorem dolor
        sed viverra ipsum nunc aliquet bibendum. Ullamcorper morbi tincidunt
        ornare massa eget. Non blandit massa enim nec dui nunc mattis enim.
        Elementum integer enim neque volutpat ac tincidunt vitae semper.
        Tristique sollicitudin nibh sit amet commodo nulla facilisi nullam.
        Imperdiet sed euismod nisi porta. Eu scelerisque felis imperdiet proin
        fermentum leo vel orci. Nisl vel pretium lectus quam id. Consequat nisl
        vel pretium lectus quam id leo in.
      </p>
    </div>
    <!-- Mobile Nav Float Here -->
  </article>
</PlantLayout>
