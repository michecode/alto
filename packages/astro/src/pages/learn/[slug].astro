---
import LearnLayout from '../../layouts/LearnLayout.astro';
import { getAllLearnArticles } from '../../api';
import Article from '../../components/learn/Article.svelte';

export async function getStaticPaths() {
  const allArticles = await getAllLearnArticles();

  return allArticles.map((article: Article) => ({
    params: {
      slug: article.category.toLowerCase(),
    },
    props: {
      article,
    },
  }));
}

const articleData: Article = Astro.props.article;
---

<LearnLayout title="test">
  <Article articleData={articleData} />
</LearnLayout>
