---
import Layout from '../../layouts/Layout.astro';
import { getAllLearnArticles } from '../../api';
import Article from '../../components/learn/Article.svelte';

export async function getStaticPaths() {
  const allArticles = await getAllLearnArticles();

  return allArticles.map((article: Article) => ({
    params: {
      slug: article.category.toLowerCase(),
    },
    props: {
      article,
    },
  }));
}

const articleData: Article = Astro.props.article;
---

<Layout title="test">
  <div>sidebar nav</div>
  <Article articleData={articleData} />
</Layout>
